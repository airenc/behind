{"remainingRequest":"D:\\后台管理项目资料\\我的后台\\node_modules\\babel-loader\\lib\\index.js!D:\\后台管理项目资料\\我的后台\\src\\utils\\api\\request.js","dependencies":[{"path":"D:\\后台管理项目资料\\我的后台\\src\\utils\\api\\request.js","mtime":1618976638519},{"path":"D:\\后台管理项目资料\\我的后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\后台管理项目资料\\我的后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBBeGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7IC8vIOi3r+eUseS8oOWPgiDnmoQg6Kej5p6QCgppbXBvcnQgcXMgZnJvbSAicXMiOyAvLyBpbXBvcnQgVnVlIGZyb20gInZ1ZSI7Cgp2YXIgYmFzZVVSTCA9ICJodHRwczovL3d3dy5saXVsb25nYmluLnRvcDo4ODg4L2FwaS9wcml2YXRlL3YxLyI7CnZhciBpbnN0YW5jZSA9IEF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYmFzZVVSTCwKICB0aW1lb3V0OiA1MDAwIC8v6LaF5pe25pe26Ze0Cgp9KTsKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBpZiAoc3RvcmUuc3RhdGUudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBzdG9yZS5zdGF0ZS50b2tlbjsKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsgLy/ov5nmmK9wcm9taXNl55qE5LiA5Liq5pa55rOV77yM5omn6KGM55qE57uT5p6c5piv5LiA5LiqcHJvbWlzZe+8jOiAjOS4lOS8mueri+WIu+aJp+ihjGNhdGNo5pa55rOV77yM5bm25oqK5Y+C5pWw5Lyg5YiwY2F0Y2jph4wKfSk7IC8v6K+35rGC5oum5oiqCgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGlmIChyZXNwb25zZS5kYXRhLm1zZyA9PSAi5peg5pWIdG9rZW4iKSB7CiAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgfQoKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKfSk7IC8v5ZON5bqU5oum5oiqCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBodHRwKHVybCwgbWV0aG9kKSB7CiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9OwogIHJldHVybiBpbnN0YW5jZSh7CiAgICB1cmw6IHVybCwKICAgIG1ldGhvZDogbWV0aG9kLAogICAgLy8g5Zac5qyi5Li65a2X56ym5LiyCiAgICBkYXRhOiBxcy5zdHJpbmdpZnkoZGF0YSksCiAgICBwYXJhbXM6IHBhcmFtcwogIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgcmV0dXJuIHJlczsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKICB9KTsKfQ=="},{"version":3,"sources":["D:/后台管理项目资料/我的后台/src/utils/api/request.js"],"names":["Axios","router","store","qs","baseURL","instance","create","timeout","interceptors","request","use","config","state","token","headers","Authorization","err","Promise","reject","response","data","msg","push","http","url","method","params","stringify","then","res","catch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,OAAOC,EAAP,MAAe,IAAf,C,CACA;;AAEA,IAAIC,OAAO,GAAG,iDAAd;AAEA,IAAMC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAa;AAC5BF,EAAAA,OAAO,EAAPA,OAD4B;AAE5BG,EAAAA,OAAO,EAAE,IAFmB,CAEb;;AAFa,CAAb,CAAjB;AAKAF,QAAQ,CAACG,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,UAASC,MAAT,EAAiB;AACf,MAAIT,KAAK,CAACU,KAAN,CAAYC,KAAhB,EAAuB;AACrBF,IAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+Bb,KAAK,CAACU,KAAN,CAAYC,KAA3C;AACD;;AACD,SAAOF,MAAP;AACD,CANH,EAOE,UAASK,GAAT,EAAc;AACZ,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP,CADY,CAEZ;AACD,CAVH,E,CAYA;;AAEAX,QAAQ,CAACG,YAAT,CAAsBW,QAAtB,CAA+BT,GAA/B,CACE,UAASS,QAAT,EAAmB;AACjB,MAAIA,QAAQ,CAACC,IAAT,CAAcC,GAAd,IAAqB,SAAzB,EAAoC;AAClCpB,IAAAA,MAAM,CAACqB,IAAP,CAAY,QAAZ;AACD;;AAED,SAAOH,QAAP;AACD,CAPH,EAQE,UAASH,GAAT,EAAc;AACZ,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAVH,E,CAYA;;AAEA,eAAe,SAASO,IAAT,CAAcC,GAAd,EAAmBC,MAAnB,EAAmD;AAAA,MAAxBL,IAAwB,uEAAjB,EAAiB;AAAA,MAAbM,MAAa,uEAAJ,EAAI;AAChE,SAAOrB,QAAQ,CAAC;AACdmB,IAAAA,GAAG,EAAEA,GADS;AAEdC,IAAAA,MAAM,EAAEA,MAFM;AAGd;AACAL,IAAAA,IAAI,EAAEjB,EAAE,CAACwB,SAAH,CAAaP,IAAb,CAJQ;AAKdM,IAAAA,MAAM,EAAEA;AALM,GAAD,CAAR,CAOJE,IAPI,CAOC,UAACC,GAAD,EAAS;AACb,WAAOA,GAAP;AACD,GATI,EAUJC,KAVI,CAUE,UAACd,GAAD,EAAS;AACd,WAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,GAZI,CAAP;AAaD","sourcesContent":["import Axios from \"axios\";\r\nimport router from \"@/router\";\r\nimport store from \"@/store\";\r\n\r\n// 路由传参 的 解析\r\nimport qs from \"qs\";\r\n// import Vue from \"vue\";\r\n\r\nlet baseURL = \"https://www.liulongbin.top:8888/api/private/v1/\";\r\n\r\nconst instance = Axios.create({\r\n  baseURL,\r\n  timeout: 5000, //超时时间\r\n});\r\n\r\ninstance.interceptors.request.use(\r\n  function(config) {\r\n    if (store.state.token) {\r\n      config.headers.Authorization = store.state.token;\r\n    }\r\n    return config;\r\n  },\r\n  function(err) {\r\n    return Promise.reject(err);\r\n    //这是promise的一个方法，执行的结果是一个promise，而且会立刻执行catch方法，并把参数传到catch里\r\n  }\r\n);\r\n//请求拦截\r\n\r\ninstance.interceptors.response.use(\r\n  function(response) {\r\n    if (response.data.msg == \"无效token\") {\r\n      router.push(\"/login\");\r\n    }\r\n\r\n    return response;\r\n  },\r\n  function(err) {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n//响应拦截\r\n\r\nexport default function http(url, method, data = {}, params = {}) {\r\n  return instance({\r\n    url: url,\r\n    method: method,\r\n    // 喜欢为字符串\r\n    data: qs.stringify(data),\r\n    params: params,\r\n  })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => {\r\n      return Promise.reject(err);\r\n    });\r\n}\r\n"]}]}